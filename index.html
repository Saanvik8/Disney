<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disney: The Enchanted Memoria</title>
    <style>
        :root {
            --gold: #ffd700;
            --glass: rgba(255, 255, 255, 0.1);
            --border: rgba(255, 255, 255, 0.2);
            --bg: #0f0f1a;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            transition: background 1.5s ease;
            cursor: none;
        }

        /* --- 1. THE ATMOSPHERE --- */
        #star-canvas {
            position: fixed; inset: 0; z-index: 0; pointer-events: none;
        }

        .cursor {
            width: 10px; height: 10px; background: var(--gold);
            border-radius: 50%; position: fixed; z-index: 10000;
            pointer-events: none; box-shadow: 0 0 15px var(--gold);
        }

        /* --- 2. QUEST & MEMORY UI --- */
        #quest-tracker {
            position: fixed; top: 20px; left: 20px; z-index: 100;
            background: var(--glass); padding: 15px; border-radius: 15px;
            border: 1px solid var(--gold); backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        #memory-jar {
            margin-top: 10px; display: flex; gap: 5px; flex-wrap: wrap;
        }

        .memory-pill {
            background: var(--gold); color: black; padding: 2px 8px;
            border-radius: 10px; font-size: 10px; font-weight: bold;
        }

        /* --- 3. SPATIAL PORTAL --- */
        .portal-view {
            display: flex; justify-content: center; align-items: center;
            gap: 30px; height: 100vh; perspective: 1000px;
        }

        .realm-card {
            width: 200px; height: 320px;
            background: var(--glass); border: 1px solid var(--border);
            border-radius: 20px; backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; transition: all 0.5s ease;
        }

        .realm-card:hover {
            transform: translateY(-20px) scale(1.05);
            border-color: var(--gold); box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
        }

        .realm-icon { font-size: 60px; margin-bottom: 20px; }

        /* --- 4. STORY OVERLAY --- */
        #story-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 500; display: none; flex-direction: column;
            justify-content: center; align-items: center;
            backdrop-filter: blur(20px);
        }

        .princess-card {
            width: 300px; padding: 30px; background: white; color: black;
            border-radius: 20px; text-align: center; position: relative;
        }

        .re-read-tag {
            background: #ff4757; color: white; padding: 5px 10px;
            border-radius: 5px; font-size: 12px; font-weight: bold;
            position: absolute; top: -10px; right: 20px;
        }

        /* --- 5. THE CHRONICLER --- */
        #chronicler {
            position: fixed; bottom: 30px; right: 30px; z-index: 1000;
            text-align: center;
        }

        .speech {
            background: white; color: black; padding: 10px 15px;
            border-radius: 12px; font-size: 14px; font-weight: 600;
            margin-bottom: 10px; opacity: 0; transition: 0.4s;
        }

        .avatar { font-size: 70px; animation: float 3s infinite ease-in-out; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
    </style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<canvas id="star-canvas"></canvas>

<div id="quest-tracker">
    <div style="font-size: 10px; color: var(--gold); letter-spacing: 1px;">QUEST PROGRESS</div>
    <div id="stars">üåë üåë üåë üåë</div>
    <div id="memory-jar"></div>
</div>

<div class="portal-view" id="main-portal">
    <div class="realm-card" onmouseover="shiftMood('ocean')" onclick="openStory('Ocean')">
        <div class="realm-icon">üåä</div>
        <div class="label">The Abyss</div>
    </div>
    <div class="realm-card" onmouseover="shiftMood('fantasy')" onclick="openStory('Fantasy')">
        <div class="realm-icon">üè∞</div>
        <div class="label">Enchanted</div>
    </div>
    <div class="realm-card" onmouseover="shiftMood('future')" onclick="openStory('Future')">
        <div class="realm-icon">ü§ñ</div>
        <div class="label">Tomorrow</div>
    </div>
</div>

<div id="story-overlay">
    <div class="princess-card">
        <div class="re-read-tag">Feminist Re-read</div>
        <h2 id="story-title">Princess Title</h2>
        <p id="story-text">Loading narrative...</p>
        <button onclick="closeStory()" style="padding: 10px 20px; cursor: pointer;">Return to Galaxy</button>
    </div>
</div>

<div id="chronicler">
    <div class="speech" id="speech">Welcome, Explorer!</div>
    <div class="avatar" id="avatar">üßô‚Äç‚ôÇÔ∏è</div>
</div>

<script>
    // --- DATA INTEGRATION ---
    const storyData = {
        'Ocean': {
            title: "Ariel: The Voice of Choice",
            text: "In our reimagined version, Ariel doesn't trade her voice for a man. She trades it to explore a world that values her curiosity over her status.",
            voice: "The ocean is deep, but her ambition is deeper.",
            mood: "#001d3d"
        },
        'Fantasy': {
            title: "Cinderella: The Architect",
            text: "Cinderella didn't wait for a fairy godmother; she built a network of allies. True magic is community and resilience.",
            voice: "A dream is a blueprint your heart makes.",
            mood: "#240046"
        },
        'Future': {
            title: "Tomorrowland: Digital Ethics",
            text: "Technology meets humanity. How do we build a world where progress serves the people, not the other way around?",
            voice: "Beep boop! The future is a story we write together.",
            mood: "#000000"
        }
    };

    const visited = new Set();
    const cursor = document.getElementById('cursor');

    // --- MAGIC INTERACTIONS ---
    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
        if(Math.random() > 0.8) createSparkle(e.clientX, e.clientY);
    });

    function createSparkle(x, y) {
        const s = document.createElement('div');
        s.innerHTML = "‚ú®"; s.style.position = "fixed";
        s.style.left = x + "px"; s.style.top = y + "px";
        s.style.pointerEvents = "none";
        document.body.appendChild(s);
        s.animate([{ opacity: 1 }, { opacity: 0, transform: 'translateY(20px)' }], 1000).onfinish = () => s.remove();
    }

    // --- STORY & QUEST LOGIC ---
    function openStory(realm) {
        const data = storyData[realm];
        document.getElementById('story-title').innerText = data.title;
        document.getElementById('story-text').innerText = data.text;
        document.getElementById('story-overlay').style.display = 'flex';
        
        // Character Speech
        speak(data.voice);

        // Update Quest & Jar
        if(!visited.has(realm)) {
            visited.add(realm);
            updateQuest();
            addToJar(realm);
        }
    }

    function closeStory() {
        document.getElementById('story-overlay').style.display = 'none';
        document.body.style.background = "#0f0f1a";
    }

    function updateQuest() {
        const count = visited.size;
        document.getElementById('stars').innerText = "‚≠ê ".repeat(count) + "üåë ".repeat(3 - count);
    }

    function addToJar(realm) {
        const pill = document.createElement('div');
        pill.className = 'memory-pill';
        pill.innerText = realm;
        document.getElementById('memory-jar').appendChild(pill);
    }

    function speak(text) {
        const talk = new SpeechSynthesisUtterance(text);
        window.speechSynthesis.speak(talk);
        const speech = document.getElementById('speech');
        speech.innerText = text;
        speech.style.opacity = 1;
        setTimeout(() => speech.style.opacity = 0, 4000);
    }

    function shiftMood(type) {
        document.body.style.background = storyData[type].mood;
    }

   
    const canvas = document.getElementById('star-canvas');
    const ctx = canvas.getContext('2d');
    function init() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = init; init();

    function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "white";
        for(let i=0; i<80; i++) {
            ctx.beginPath();
            ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height, 0.8, 0, Math.PI*2);
            ctx.fill();
        }
        setTimeout(() => requestAnimationFrame(draw), 400);
    }
    draw();
</script>
</body>
</html>